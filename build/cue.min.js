(function(e){function t(e,t){for(let n=0;n<t.length;n++)e.push(t[n]);return e}function n(e){const t={};let r,l;for(r in e)l=e[r],t[r]=ie(l)?s(l):re(l)?n(l):l;return t}function s(e){const t=[];for(let r,l=0;l<e.length;l++)r=e[l],t[l]=ie(r)?s(r):re(r)?n(r):r;return t}function r(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){const n=ie(e),i=ie(t);if(n!==i)return!1;if(n&&i)return o(e,t);const s=e.constructor===V,r=t.constructor===V;if(s!==r)return!1;if(s&&r)return l(e,t)}return e!==e&&t!==t}function l(e,t){const n=te(e),s=te(t);if(n.length!==s.length)return!1;for(let r,l=0;l<n.length;l++)if(r=n[l],-1===s.indexOf(r)||e[r]!==t[r])return!1;return!0}function o(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function d(e,t){H(ge,{allProperties:e,computedProperties:t});const n=new Proxy(e,{get:p});t.forEach(e=>{ge.derivative=e;try{e.computation.call(n,n)}catch(t){}}),ge.derivative=null,ge.allProperties=null,ge.computedProperties=null}function p(e,t){const{derivative:n,allProperties:i,computedProperties:s}=ge;if(!i.hasOwnProperty(t))throw new Error(`Unable to resolve dependency "${t}" of computed prop "${n.ownPropertyName}".`);if(-1===n.sourceProperties.indexOf(t)&&n.sourceProperties.push(t),s.has(t)){const e=s.get(t);-1===e.subDerivatives.indexOf(n)&&e.subDerivatives.push(n),-1===n.superDerivatives.indexOf(e)&&n.superDerivatives.push(e)}}function u(e,t){t===fe?(c(e),g(e)):t===he&&f(e)}function c(e){if(e.superDerivatives.length)for(let t,n=0;n<e.superDerivatives.length;n++)t=e.superDerivatives[n],t.stopPropagation=!1,t.superDerivatives.length&&c(t)}function g(e,t=!0){if(e.stopPropagation=t,e.subDerivatives.length)for(let t,n=0;n<e.subDerivatives.length;n++)t=e.subDerivatives[n],t.observers.length&&(e.stopPropagation=!1,g(t))}function f(e,t=!1){e.stopPropagation=t;for(let n,s=0;s<e.superDerivatives.length;s++)n=e.superDerivatives[s],n.observers.length?n.stopPropagation=!0:f(n)}function h(e){return new Proxy(e,{get:v,set:m,deleteProperty:y})}function v(e,t){if(t===ve||t===ye)return e[t];if(t===me)return e;const n=$(e,t);if(!n||n[ve])return n;if("object"==typeof n&&!e[ve].derivedProperties.has(t))return h(Ce.assignTo(n,e,t));if(M.has(t)&&ae(n)){const i=e[ye];return i.get(t)||i.set(t,b(n)).get(t)}return n}function m(e,t,n){if(!ue){const i=e[ve],s=i.valueCache.get(t);if(n){const i=n[ve];i&&null===i.parent&&(i.parent=e,i.ownPropertyName=t)}if(n!==s){let r=i.attemptCue(t,n,s);if(null!==i.parent){const t=ie(e)?e.slice():H({},e);r+=i.parent.attemptCue.call(i.parent,i.ownPropertyName,e,t)}return Z(e,t,n),i.valueCache.set(t,n),0<r&&!0&&C(),!0}}else console.warn(`Setting of "${t}" ignored. Don't mutate state in a reaction. Refactor to computed properties or willChange/didChange handlers instead.`)}function y(e,t){if(!!ue)console.warn(`Deletion of "${t}" ignored. Don't mutate state in a reaction. Refactor to computed properties instead.`);else if(e.hasOwnProperty(t)){const n=e[ve],i=n.valueCache.get(t);let s=n.attemptCue(t,void 0,i);if(n.parent){const t=ie(e)?e.slice():H({},e);s+=n.parent.attemptCue.call(n.parent,n.ownPropertyName,e,t)}return ee(e,t),n.valueCache.delete(t),0<s&&!0&&C(),!0}}function b(e){return function(...t){if(!ue){const n=this[ve],i=this[me];if(null===n.parent)return J(e,i,t);const s=i.slice(),r=J(e,i,t);return o(s,i)||!n.parent.attemptCue.call(n.parent,n.ownPropertyName,i,s)||C(),r}console.warn(`Array mutation ignored. Don't mutate state in a reaction. Refactor to computed properties instead.`)}}function _(e,t,n,s,r,a){let o,d,p;if(s)for(o=0;o<s.length;o++)p=s[o],-1===be.indexOf(p)&&be.push(p,{value:t,oldValue:n});if(r&&(d=r.length)&&!1===a){for(o=0;o<d;o++)r[o].updateProperty(e,t);let n,i;for(o=0;o<d;o++)p=r[o],n=p._value,i=p.value,p.hasChanged&&_(p.ownPropertyName,i,n,p.observers,p.subDerivatives,p.stopPropagation)}}function E(e,t,n,s,r,l){let a,o,d;if(s)for(a=0;a<s.length;a++)o=s[a],-1===be.indexOf(o)&&be.push(o,{value:t,oldValue:n});if(r&&!1===l)for(a=0;a<r.length;a++)d=r[a],d.updateProperty(e,t),-1===ce.indexOf(d)&&ce.push(d)}function C(){ue=!0;const e=be.length;for(let t=0;t<e;t+=2)be[t](be[t+1]);be.splice(0,e),ue=!1}function P(e,r,l,a,o){const d="object"===e?H(F(r.prototype),n(l.defaults)):t(Y([],r.prototype),s(l.defaults)),p=d[ve]=new Ce(a,o);let u,c,g,f,h;return l.computed.forEach(e=>{for(c=new _e(e.ownPropertyName,e.computation,e.sourceProperties),p.derivedProperties.set(e.ownPropertyName,c),u=0;u<e.sourceProperties.length;u++)g=e.sourceProperties[u],f=p.derivativesOf.get(g),f?f.push(c):p.derivativesOf.set(g,[c]);for(u=0;u<e.superDerivatives.length;u++)h=p.derivedProperties.get(e.superDerivatives[u].ownPropertyName),c.superDerivatives.push(h),h.subDerivatives.push(c);c.fillCache(d)}),d}function S(e){let t;if(ie(e.defaults)){if(e.static){let n;t=t=>(n[ve].isInitializing=!0,e.initialize.call(n,t),n[ve].isInitializing=!1,n),t.prototype=F(Array.prototype),n=h(P("array",t,e))}else t=n=>{const i=h(P("array",t,e));return i[ve].isInitializing=!0,e.initialize.call(i,n),i[ve].isInitializing=!1,i},t.prototype=F(Array.prototype);}else if(e.static){let n;t=t=>(n[ve].isInitializing=!0,e.initialize.call(n,t),n[ve].isInitializing=!1,n),t.prototype={},n=h(P("object",t,e))}else t=n=>{const i=h(P("object",t,e));return i[ve].isInitializing=!0,e.initialize.call(i,n),i[ve].isInitializing=!1,i},t.prototype={};return t}function O(e,t){for(const n of t.computed.keys())X(e.prototype,n,{get(){return this[ve].derivedProperties.get(n).value},configurable:!0,enumerable:!0});for(const n in t.actions)e.prototype[n]=t.actions[n];e.prototype.imports=t.imports,e.prototype[ye]=new Map}function w(e){const t=ae(e)?e(de.state):e;if(!le(t))throw new TypeError(`Can't create State Module because the config function does not return a plain object.`);const n=ie(t.props)?"array":le(t.props)?"object":"illegal";if("illegal"==n)throw new TypeError(`State Module requires "props" object (plain object or array) containing default and optional computed properties.`);const s={defaults:"array"==n?[]:{},computed:new Map,interceptors:new Map,reactions:new Map,initialize:A,actions:{},static:!0===t.static,imports:t.imports};let r,l,a;if("array"==n)for(l=0;l<t.props.length;l++)a=t.props[l],ae(a)?s.computed.set(l,{ownPropertyName:l,computation:a,sourceProperties:[],subDerivatives:[],superDerivatives:[]}):s.defaults.push(a);else for(r in t.props)a=t.props[r],ae(a)?s.computed.set(r,{ownPropertyName:r,computation:a,sourceProperties:[],subDerivatives:[],superDerivatives:[]}):s.defaults[r]=a;for(r in d(t.props,s.computed),s.computed=Ee.from(s.computed),t)if(a=t[r],"initialize"!==r)ae(a)&&(s.actions[r]=a);else if(ae(a))s[r]=a;else throw new TypeError(`"${r}" is a reserved word for Cue State Modules and must be a function but is of type "${typeof a}"`);for(r in t.willChange){if(a=t.willChange[r],!ae(a))throw new TypeError(`Module.willChange handler for "${r}" is not a function.`);s.interceptors.set(r,a)}for(r in t.didChange){if(a=t.didChange[r],!ae(a))throw new TypeError(`Module.didChange handler for "${r}" is not a function.`);s.reactions.set(r,a)}return s}function D(e,t){return n=>{const i=w(t),s=S(i);return O(s,i),pe.set(e,s),s.call(null,n)}}function x(e){let t=0;return(x=function(e){let i,s="";for(const n=t.toString(26).split("");i=n.shift();)s+="abcdefghijklmnopqrstuvwxyz"[parseInt(i,26)];return t++,`${e}-${s}`}).call(null,e)}function T(e,t,n){n.classList.replace(e,t);for(let s=0;s<n.children.length;s++)T(e,t,n.children[s])}function U(e,t){const n=new Map;if(!e)return n;let i,s,r,l,a,o,d,p;for(i in e){for(r in o=x(i),d=Oe.insertRule(`.${o} {}`,Oe.cssRules.length),p=Oe.cssRules[d].style,s=e[i],s)re(s[r])&&(l="&"===r[0]?Oe.insertRule(`.${o}${r.substring(1)} {}`,Oe.cssRules.length):Oe.insertRule(`.${o} ${r} {}`,Oe.cssRules.length),a=Oe.cssRules[l].style,H(a,s[r]),delete s[r]);H(p,s),n.set(i,o),t&&T(i,o,t)}return n}function N(e){const t=new Map;if(!e)return t;let n,i,s,r,l,a,o,d;for(n in e){for(a in i=x(n),s=Oe.insertRule(`@keyframes ${i} {}`,Oe.cssRules.length),r=Oe.cssRules[s],l=e[n],l)r.appendRule(`${a}% {}`),o=r.cssRules.length-1,d=r.cssRules[o].style,H(d,l[a]);t.set(n,i)}return t}function R(e){if("string"==typeof e)switch(e=e.trim(),e[0]){case"<":return document.createRange().createContextualFragment(e).firstChild;case".":return document.getElementsByClassName(e.substring(1))[0];case"#":return document.getElementById(e.substring(1));case"[":return document.querySelectorAll(e)[0];default:throw new TypeError(`Can't create template from string because it's not html markup or a valid selector.`);}else if(e instanceof Element)return e}function j(e,t,n,s,r){let l,o,d,p=0,u=0,c=!0,g=t.length-1,f=n.length-1,h=parent.firstChild,v=h,m=parent.lastChild,y=m;outer:for(;c;){c=!1;let e;for(l=t[p],o=n[u];l===o;){if(r(h,o),p++,u++,v=h=h.nextSibling,g<p||f<u)break outer;l=t[p],o=n[u]}for(l=t[g],o=n[f];l===o;){if(r(m,o),g--,f--,d=m,y=m=m.previousSibling,g<p||f<u)break outer;l=t[g],o=n[f]}for(l=t[g],o=n[u];l===o;){if(c=!0,r(m,o),e=m.previousSibling,parent.insertBefore(m,v),y=m=e,u++,g--,g<p||f<u)break outer;l=t[g],o=n[u]}for(l=t[p],o=n[f];l===o;){if(c=!0,r(h,o),e=h.nextSibling,parent.insertBefore(h,d),d=y=h,h=e,p++,f--,g<p||f<u)break outer;l=t[p],o=n[f]}}if(f<u){if(p<=g)for(let e;p<=g;)0===g?parent.removeChild(m):(e=m.previousSibling,parent.removeChild(m),m=e),g--;return}if(g<p){if(u<=f)for(;u<=f;)d?parent.insertBefore(s(n[u]),d):parent.appendChild(s(n[u])),u++;return}const _=Array(f+1-u),E=new Map;let C;for(C=u;C<=f;C++)_[C]=-1,E.set(n[C],C);let P=0,S=[];for(C=p;C<=g;C++)E.has(t[C])?(_[E.get(t[C])]=C,P++):S.push(C);if(0==P){for(parent.textContent="",C=u;C<=f;C++)parent.appendChild(s(n[C]));return}const O=I(_,u),w=[];let D=h;for(C=p;C<=g;C++)w[C]=D,D=D.nextSibling;for(C=0;C<S.length;C++)parent.removeChild(w[S[C]]);let x,T=O.length-1;for(C=f;C>=u;C--)O[T]===C?(d=w[_[O[T]]],r(d,n[C]),T--):(-1===_[C]?x=s(n[C]):(x=w[_[C]],r(x,n[C])),parent.insertBefore(x,d),d=x)}function I(e,t){const s=[],r=[],a=Array(e.length);let o,d,p,u=-1;for(o=t;o<e.length;o++){if(d=e[o],0>d)continue;let t,n=-1,i=s.length;if(0<i&&s[i-1]<=d)p=i-1;else{for(;1<i-n;)t=FLOOR((n+i)/2),s[t]>d?i=t:n=t;p=n}-1!==p&&(a[o]=r[p]),p===u?(u++,s[u]=d,r[u]=o):d<s[p+1]&&(s[p+1]=d,r[p+1]=o)}for(o=r[u];0<=u;o=a[o],u--)s[u]=o;return s}function z(e,t){const n=e.state[ve];let i,s;for(i in t)s=n.addChangeReaction(e.state,i,t[i],e,e.autorun),e.reactions.has(i)?e.reactions.get(i).push(s):e.reactions.set(i,[s])}function k(t,n){let i,s;for(i in n)if(s=n[i],t.events.has(i))q(t.events.get(i),s,t);else{const n=[];t.events.set(i,n),q(n,s,t),t.element.addEventListener(i,s=>{for(let e=0;e<n.length;e++)n[e].call(t,s)})}}function q(e,t,n){if(ae(t))e.push(t);else if(re(t))for(const i in t)e.push(s=>s.target.closest(i)&&t[i].call(n,s))}function B(e){const t="function"==typeof e?e.call(null,de.ui):e;if(!t||t.constructor!==V)throw new TypeError(`Can't create UI Module because the configuration function did not return a plain object.`);if(!t.template)throw new TypeError(`UI Module requires "template" property that specifies a DOM Element. // expect(template).toEqual(HTMLString || Selector || DOMNode).`);const n=R(t.template),i=U(t.styles,n),s=N(t.keyframes);if(t.bindEvents&&0<i.size){let e,n,s,r;for(e in t.bindEvents)if(n=t.bindEvents[e],re(n))for(s in n)"."===s[0]&&(r=i.get(s.substring(1)),r&&(n["."+r]=n[s],delete n[s]))}return{template:n,imports:t.imports||null,styles:i,keyframes:s,initialize:t.initialize||null,bindEvents:t.bindEvents||null,renderState:t.renderState||null}}function L(e){let t=null;return n=>{t||(t=B(e));const i=new we(t.template.cloneNode(!0),t.imports,t.styles,t.keyframes);return t.initialize&&t.initialize.call(i,n),t.renderState&&z(i,t.renderState),t.bindEvents&&k(i,t.bindEvents),i.element}}const A=()=>{},M=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]),V=Object,W=Array,H=V.assign,F=V.create,X=V.defineProperty,G=V.defineProperties,Y=V.setPrototypeOf,Q=V.getPrototypeOf,K=V.prototype.toString,Z=Reflect.set,$=Reflect.get,J=Reflect.apply,ee=Reflect.deleteProperty,te=V.keys,ne=V.entries,ie=W.isArray,se=W.from,re=e=>"object"==typeof e&&null!==e,le=e=>re(e)&&(K.call(e)==="[object Object]"||null===Q(e)),ae=e=>"function"==typeof e,oe={},de={core:oe,state:F(oe),ui:F(oe)},pe=new Map;let ue=!1;const ce=[],ge={derivative:null,allProperties:null,derivedProperties:null},fe=-1,he=1,ve=Symbol("\uD83C\uDF51"),me=Symbol("Target Object"),ye=Symbol("Intercepted Methods"),be=[];{const e=new Map,t=`Can't add listener because the provided arguments are invalid.`;let n,i,s,r,l,a=[];const o=(t,n,i,s)=>{const r={handler:n,scope:i,once:s};e.has(t)?e.get(t).push(r):e.set(t,[r])},d=(e,t,s)=>{for(n in e)if(i=e[n],ae(i))o(n,i,t,s);else throw new TypeError(`Can't add listener because handler for "${n}" is not a function but of type ${typeof i}`)};de.state=F(de.core,{import:{value:function(e){const t=pe.get(e);if(!t)throw new ReferenceError(`Can't import State Module because nothing is registered under "${e}".`);return t}},on:(e,n,i)=>{if(re(e))s="object"==typeof n?n:null,d(e,s,!1);else if("string"==typeof e&&ae(n))s="object"==typeof i?i:null,o(e,n,s,!1);else throw new TypeError(t)},once:(e,n,i)=>{if(re(e))s="object"==typeof n?n:null,d(e,s,!0);else if("string"==typeof e&&ae(n))s="object"==typeof i?i:null,o(e,n,s,!0);else throw new TypeError(t)},off:t=>{e.delete(t)},trigger:(t,...n)=>{if(r=e.get(t)){for(let e=0;e<r.length;e++)l=r[e],l.handler.apply(l.scope,n),l.once&&a.push(l);a.length&&(e.set(t,r.filter(e=>-1===a.indexOf(e))),a.length=0),r=null}}})}class _e{constructor(e,t,n){this.ownPropertyName=e,this.computation=t,this.sourceProperties=n,this.subDerivatives=[],this.superDerivatives=[],this.observers=[],this.valueCache=F(null),this.intermediate=void 0,this._value=void 0,this.stopPropagation=!1,this.needsUpdate=!1,this.hasChanged=!1}get value(){return this.needsUpdate&&(this.intermediate=this.computation.call(null,this.valueCache),r(this._value,this.intermediate)?this.hasChanged=!1:(this._value=this.intermediate,this.hasChanged=!0),this.needsUpdate=!1),this._value}updateProperty(e,t){this.valueCache[e]=t,this.needsUpdate=!0}fillCache(e){for(let t,n=0;n<this.sourceProperties.length;n++)t=this.sourceProperties[n],this.valueCache[t]=e[t];this.needsUpdate=!0}dispose(e=!0){let t;for(this.valueCache=void 0,this.observers=void 0,this.intermediate=void 0,this._value=void 0,t=0;t<this.superDerivatives.length;t++)this.superDerivatives[t].subDerivatives=this.superDerivatives[t].subDerivatives.filter(e=>e!==this),f(this.superDerivatives[t],!0);for(t=0;t<this.subDerivatives.length;t++)this.subDerivatives[t].dispose(!1);if(e)for(t=0;t<this.superDerivatives.length;t++)u(this.superDerivatives[t],fe);this.superDerivatives=void 0}}const Ee={source:null,visited:[],from(e){this.source=e;const t=new Map;for(const n of e.keys())this._visit(n,[],t);return this.source=null,this.visited.splice(0,this.visited.length),t},_visit(e,t,n){if(this.source.has(e)){t.push(e),this.visited.push(e);const s=this.source.get(e);for(let e,r=0;r<s.sourceProperties.length;r++){if(e=s.sourceProperties[r],-1!==t.indexOf(e))throw new Error(`Circular dependency. "${s.ownPropertyName}" is required by "${e}": ${t.join(" -> ")}`);-1===this.visited.indexOf(e)&&this._visit(e,t,n)}n.has(e)||n.set(e,s)}}};class Ce{static assignTo(e,t,n){return e[ve]=new this(t,n),e}constructor(e=null,t=""){this.parent=e,this.ownPropertyName=t,this.isInitializing=!1,this.valueCache=new Map,this.observersOf=new Map,this.derivativesOf=new Map,this.derivedProperties=new Map}addChangeReaction(e,t,n,i,s=!0){if(!ae(n))throw new TypeError(`Property change reaction for "${t}" is not a function...`);const r=n.bind(i);if(this.observersOf.has(t)?this.observersOf.get(t).push(r):this.observersOf.set(t,[r]),this.derivedProperties.has(t)){const e=this.derivedProperties.get(t);e.observers.push(r),u(e,fe)}if(!0===s){const n=e[t];r({value:n,oldValue:n})}return r}removeChangeReaction(e,t){if(this.observersOf.has(e)){const n=this.observersOf.get(e),s=this.derivedProperties.get(e);if(t===void 0)this.observersOf.delete(e),s&&(s.observers.splice(0,s.observers.length),u(s,he));else if(ae(t)){let r=n.indexOf(t);-1<r?n.splice(r,1):console.warn(`Can't remove the passed handler from reactions of "${e}" because it is not registered.`),s&&(r=s.observers.indexOf(t),-1<r?(s.observers.splice(r,1),u(s,he)):console.warn(`Can't remove the passed handler from observers of derived property "${e}" because it is not registered.`))}}else console.warn(`Can't unobserve property "${e}" because no reaction has been registered for it.`)}attemptCue(e,t,n){const i=this.derivativesOf.get(e),s=this.observersOf.get(e);return i||s?(_(e,t,n,s,i,!1),1):0}}const Pe={State:(e,t)=>{if("string"!=typeof e)throw new TypeError(`Can't create Cue State Module. First argument must be name of type string but is of type "${typeof e}".`);else if(pe.has(e))throw new Error(`A State Module has already been registered under name "${e}". Unregister, use a unique name or consider namespacing.with.dots-or-hyphens...`);pe.set(e,D(e,t))}};Pe.State.isState=e=>e&&e[ve];const Se=new Map;de.ui=F(de.core,{import:{value:function(e){const t=Se.get(e);if(!t)throw new ReferenceError(`Can't import UI Component because nothing is registered under "${e}".`);return t}}});const Oe=(()=>{const e=document.createElement("style");return e.id="CUE-STYLES",document.head.appendChild(e),e.sheet})(),we=(e=>e())(()=>{const e=document,t=NodeList.prototype.isPrototypeOf,n=HTMLCollection.prototype.isPrototypeOf,i=(()=>{const n=e.createElement("tst"),i={transition:{run:"transitionrun",start:"transitionstart",end:"transitionend"},WebkitTransition:{run:"webkitTransitionRun",start:"webkitTransitionStart",end:"webkitTransitionEnd"},MozTransition:{run:"transitionRun",start:"transitionStart",end:"transitionEnd"},MSTransition:{run:"msTransitionRun",start:"msTransitionStart",end:"msTransitionEnd"},OTransition:{run:"oTransitionRun",start:"oTransitionStart",end:"oTransitionEnd"}};for(const e in i)if(n.style[e])return i[e]})();return class{constructor(e,t,n,i){this.element=e,this.imports=t,this.styles=n,this.keyframes=i,this.reactions=new Map,this.events=new Map,this.autorun=!0}select(i,r){if("string"==typeof i){r=r?this.select(r):this.element;let t,n;switch(i[0]){case"#":t=e.getElementById(i.substring(1));break;case".":t=r.getElementsByClassName(this.styles.get(n=i.substring(1))||n);break;default:t=r.querySelectorAll(i);}return t.nodeType!==Node.TEXT_NODE&&t.length?1===t.length?t[0]:se(t):t}if(i instanceof Element)return i;if(je.UI.isComponent(i))return i.element;if(t(i)||n(i))return se(i);if(ie(i))return i.map(e=>this.select(e,r));if(re(i)){const e={};for(const t in i)e[t]=this.select(i[t],r);return e}}hasContent(e){return e=e?this.select(e):this.element,!!(e.children.length||e.textContent.trim().length)}isIterable(e){return e=e?this.select(e):this.element,e.nodeType!==Node.TEXT_NODE&&e.length}hasClass(e,t){return 1===arguments.length?(t=e,e=this.element):e=this.select(e),e.classList.contains(this.styles.get(t)||t)}addClass(e,t){let n;return 1===arguments.length?(n=e.split(" ").map(e=>this.styles.get(e)||e),e=this.element):(e=this.select(e),n=t.split(" ").map(e=>this.styles.get(e)||e)),e.classList.add(...n),this}removeClass(e,t){let n;return 1===arguments.length?(n=e.split(" ").map(e=>this.styles.get(e)||e),e=this.element):(e=this.select(e),n=t.split(" ").map(e=>this.styles.get(e)||e)),e.classList.remove(...n),this}toggleClass(e,t){return 1===arguments.length?(t=e,e=this.element):e=this.select(e),e.classList.toggle(this.styles.get(t)||t),this}replaceClass(e,t,n){return 2===arguments.length?(t=e,n=t,e=this.element):e=this.select(e),e.classList.replace(this.styles.get(t)||t,this.styles.get(n)||n),this}index(e){return e=e?this.select(e):this.element,se(e.parentNode.children).indexOf(e)}siblings(e,t){return 1===arguments.length?(t=!0===e,e=this.element):e=this.select(e),t?se(e.parentNode.children):se(e.parentNode.children).filter(t=>t!==e)}refs(e){e=e?this.select(e):this.element;const t=e.querySelectorAll("[ref]");if(t.length){const e={};for(let n,s=0;s<t.length;s++)n=t[s],e[n.getAttribute("ref")]=n;return e}}boundingBox(e){e=e?this.select(e):this.element;const t=e.cloneNode(!0);t.style.position="absolute",t.style.left="-100000px",t.style.top="-100000px",t.style.display="block",this.element.parentElement.appendChild(t);const n=t.getBoundingClientRect();return t.parentElement.removeChild(t),n}position(e){return e=e?this.select(e):this.element,{top:e.offsetTop,left:e.offsetLeft}}offset(e){e=e?this.select(e):this.element;const t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}}awaitTransition(...e){return e=e.length?e.map(e=>this.select(e)):[this.element],Promise.all(e.map(e=>i.end?new Promise(t=>{const n=this.select(e),s=()=>{n.removeEventListener(i.end,s),t()};n.addEventListener(i.end,s)}):Promise.resolve()))}setChildren(e,{from:i=[],to:t,create:n,update:s=A}){if(e=1===arguments.length?this.element:this.select(e),0===t.length)return e.textContent="",this;if(0===i.length){for(let s=0;s<t.length;s++)e.appendChild(n(t[s]));return this}return j(e,i,t,n,s),this}insertBefore(e,t){return 1===arguments.length?(t=this.select(e),e=this.element):(e=this.select(e),t=this.select(t)),t.parentNode.insertBefore(e,t),this}insertAfter(e,t){return 1===arguments.length?(t=this.select(e),e=this.element):(e=this.select(e),t=this.select(t)),t.parentNode.insertBefore(e,t.nextSibling),this}insertAt(e,t){1===arguments.length?(t=parseInt(e),e=this.element):(e=this.select(e),t=parseInt(t));const n=e.parentNode,i=n.children;return t>=i.length?n.appendChild(e):0>=t?n.insertBefore(e,n.firstChild):n.insertBefore(e,i[t>=Array.from(i).indexOf(e)?t+1:t]),this}detach(e){return e=e?this.select(e):this.element,e.parentNode.removeChild(e)}remove(e){return e=e?this.select(e):this.element,e.parentNode.removeChild(e),this}}}),De={UI:(e,t)=>{if("string"!=typeof e)throw new TypeError(`Can't create Cue-UI Module. First argument must be name of type string but is of type "${typeof e}".`);else if(!t||"function"!=typeof t&&t.constructor!==Object)throw new TypeError(`Can't create Cue-UI Module. Second argument must be module initializer function or configuration object but is of type "${typeof t}".`);else if(Se.has(e))throw new Error(`A UI Module has already been registered under name "${e}". Unregister, use a unique name or consider namespacing.with.dots-or-hyphens...`);const n=L(t);return Se.set(e,n),n}};De.UI.isComponent=e=>e instanceof we;const xe=new Map,Te=e=>"string"==typeof e&&2<e.length&&-1!==e.indexOf("-"),Ue=e=>e.split("-"),Ne=(e,t)=>e.didInstall?e.extensionPoint:(e.extensionPoint=e.installer.call(null,de,t),e.didInstall=!0,e.extensionPoint),Re={mount(e=document.body,t=void 0){if(!0===this.mounted)throw new Error("Cue instance already mounted.");if(e="string"==typeof e?document.querySelector(e):e instanceof Element?e:null,!e)throw new TypeError(`Target is not HTMLElement or Selector of element that is in the DOM.`);const n=de.state.import(this.state.module),i=de.ui.import(this.ui.component);return this.state.instance=n(t),this.ui.element=i(this.state.instance),e.appendChild(this.ui.element),this.lifeCycle.didMount.call(this),this.mounted=!0,this},unmount(){if(!1===this.mounted)throw new Error(`Can't unmount Cue instance because it has not been mounted.`);return this.lifeCycle.willUnmount.call(this),this.ui.element.parentElement.removeChild(this.ui.element),this.ui.element=null,this.state.instance=null,this.mounted=!1,this}};e||(e=window);const je=e.Cue=H(function(e){if(!e||e.constructor!==V)throw new TypeError("[Cue]: config is not an object.");if("string"!=typeof e.state)throw new TypeError(`[Cue]: config.state is "${typeof e.state}" and not a name. Specify the name of a state module to use as the root state for the Cue instance.`);if("string"!=typeof e.ui)throw new TypeError(`[Cue]: config.ui is "${typeof e.ui}" and not a name. Specify the name of a ui component to use as the root element for the Cue instance.`);return H(F(Re),{state:{module:e.state,instance:null},ui:{component:e.ui,element:null},mounted:!1,lifeCycle:{didMount:e.didMount||A,willUnmount:e.willUnmount||A}})},{Plugin:(e,t,n)=>{if(!Te(e))throw new Error(`Plugin must be defined with a namespaced-name (vendor-plugin) of type string as the first argument.`);const[i,s]=Ue(e);if(!t&&!n){const t=xe.get(i);if(t){const n=t.get(s);if(n)return n;throw new Error(`No Plugin with name ${e} has been registered under "${i}".`)}else throw new Error(`No Plugin has been registered under "${t}".`)}else{if("function"!=typeof t)throw new Error(`Plugin must be defined with an installable function as the second argument.`);const r=xe.get(i)||xe.set(i,new Map).get(i);if(r.has(s))return console.warn(`A plugin with name "${s}" has already been registered under "${i}". Skipping installation...`),r.get(s).name;const l={installer:t,didInstall:!1,name:e,extensionPoint:void 0};return r.set(s,l),n&&Ne(l),e}},use:(e,t)=>{if(!Te(e))throw new Error(`pluginName must be a namespaced-string (vendor-plugin).`);const[n,i]=Ue(e),s=xe.get(n);if(s){const e=s.get(i);if(e)return Ne(e,t)}throw new Error(`No Plugin has been registered under "${e}".`)}},Pe,De);console.log(`%cðŸ‘ Cue.js - Version ${.9}`,"color: rgb(0, 140, 255)"),je.Plugin("cue-math",e=>{const t=Math,n=t.max,i=t.min,s=t.random,r=t.abs,l=t.pow,a=t.round,o=t.floor,p=t.ceil,u=t.PI;return e.core.Math={clamp(e,t,s){return n(e,i(t,s))},lerp(e,t,n){return(1-n)*e+n*t},smoothStep(e,t,n){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))},translate(e,t,n,i,s){return n+(s-e)*(i-n)/(t-e)},createTranslator(e,t,n,i){return 0===e&&0<n?e=>e*(i-n)/t+n:0===n&&0<e?n=>(n-e)*i/(t-e):0===e===n?e=>e*i/i:this.translate},convertBits(e,t,n){return 32>e?32>t?n*l(2,t)/l(2,e):n/l(2,e):32>t?a(n*l(2,t)):n},randomIntBetween(e,t){return o(s()*(t-e+1)+e)},randomFloatBetween(e,t){return s()*(t-e)+e},isOdd(e){return 1&e},isEven(e){return!(1&e)},degreesToRadians(e){return e*(u/180)},radiansToDegrees(e){return e*(180/u)},scale(e,t){const n=e.length-1,s=t-1;let r,l=0,u=0,g=0,f=0;for(r=1;r<s;r++)l=r*(n/s),u=o(l),g=p(l),f=l-u,e[r]=e[u]+(e[g]-e[u])*f;return e[s]=e[n],this},closest(e,t){return e.reduce((e,n)=>r(n-t)<r(e-t)?n:e)},smallest(e){let t=1/0;for(let n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return t===1/0?void 0:t},largest(e){let t=-Infinity;for(let n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return t===-Infinity?void 0:t}}},!0),je.Plugin("cue-string",e=>e.core.String={createUID(){let e=0;return(this.createUID=function(){let t,i="";for(const n=e.toString(26).split("");t=n.shift();)i+="abcdefghijklmnopqrstuvwxyz"[parseInt(t,26)];return e++,i}).call(this)},toCamelCase(e){const t=document.createElement("div");return t.setAttribute(`data-${e}`,""),te(t.dataset)[0]},toDashedCase(e){const t=document.createElement("div");return t.dataset[e]="",t.attributes[0].name.substr(5)}},!0),je.Plugin("cue-array",e=>{const t=Array.isArray;return e.core.Array={flatten(e){return e.reduce((e,n)=>e.concat(t(n)?this.flatten(n):n),[])},insertEveryNth(e,t,s){for(let n=e.length;0<--n;)0==n%s&&e.splice(n,0,t);return this},removeEveryNth(e,t){for(let n=e.length;--n;)0==n%t&&e.splice(n,1);return this},removeRange(e,t,n){return e.splice(t,n-t),this},merge(e,...t){let n,r,l;for(n=0;n<t.length;n++)for(l=t[n],r=0;r<l.length;r++)e.push(l[r]);return this}}},!0),je.Plugin("cue-equality",e=>{const t=Object,n=Array.isArray;return t.assign(e.core,{isEqual(e,i,s=!1){if(e===i)return!0;if(e&&i&&"object"==typeof e&&"object"==typeof i){const r=e.constructor===t,l=i.constructor===t;if(r!==l)return!1;if(r&&l)return this.arePlainObjectsEqual(e,i,s);const a=n(e),o=n(i);if(a!==o)return!1;if(a&&o)return this.areArraysEqual(e,i,s);const d=e instanceof Map,p=i instanceof Map;if(d!==p)return!1;if(d&&p)return this.areMapsEqual(e,i,s);const u=e instanceof Set,c=i instanceof Set;if(u!==c)return!1;if(u&&c)return this.areSetsEqual(e,i,s);const g=e instanceof Date,f=i instanceof Date;if(g!==f)return!1;if(g&&f)return e.getTime()===i.getTime();const h=e instanceof RegExp,v=i instanceof RegExp;return h===v&&(h&&v?e.toString()===i.toString():this.arePlainObjectsEqual(e,i,s))}return e!==e&&i!==i},areArraysEqual(e,t,n=!1){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++)if(!this.isEqual(e[s],t[s],n))return!1;return!0},arePlainObjectsEqual(e,t,n=!1){const s=te(e),r=te(t);if(s.length!==r.length)return!1;for(let l,a=0;a<s.length;a++)if(l=s[a],-1===r.indexOf(l)||!this.isEqual(e[l],t[r[a]],n))return!1;return!0},areMapsEqual(e,t,n=!1){if(e.size!==t.size)return!1;const s=Array.from(e),r=Array.from(t);for(let l,a,o=0;o<s.length;o++)if(l=s[o],a=r[o],l[0]!==a[0]||!this.isEqual(l[1],a[1],n))return!1;return!0},areSetsEqual(e,t,n=!1){if(e.size!==t.size)return!1;const s=Array.from(e),r=Array.from(t);for(let l=0;l<s.length;l++)if(!this.isEqual(s[l],r[l],n))return!1;return!0}})},!0),je.Plugin("cue-clone",e=>{const t=Object,n=t.prototype.toString,s=e=>"object"==typeof e&&null!==e,r=Array.isArray,l=Object.getPrototypeOf;return t.assign(e.core,{clone(e,t=!1){if(r(e))return this.cloneArray(e,t);if(s(e)){if(n.call(e)==="[object Object]"||null===l(e))return this.clonePlainObject(e,t);if(e instanceof Map)return this.cloneMap(e,t);if(e instanceof Set)return this.cloneSet(e,t);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return RegExp(e.source,e.flags)}throw new TypeError(`Can't clone non-object, null or undefined."`)},cloneArray(e,t=!1){if(t){const n=[];for(let r,l=0;l<e.length;l++)r=e[l],n.push(s(r)?this.clone(r,t):r);return n}return e.slice()},clonePlainObject(e,n=!1){if(n){const t={};let i,r;for(i in e)r=e[i],t[i]=s(r)?this.clone(r,n):r;return t}return t.assign({},e)},cloneMap(e,t=!1){const n=new Map;return t?e.forEach((e,i)=>n.set(s(i)?this.clone(i,t):i,s(e)?this.clone(e,t):e)):e.forEach((e,t)=>n.set(t,e)),n},cloneSet(e,t=!1){const n=new Set;return e.forEach(e=>n.add(t&&s(e)?this.clone(e,t):e)),n}})},!0),je.Plugin("cue-fn",e=>e.core.Function={throttle(e,t=250,n=null){let i=0,s=0;return function(...r){i=Date.now(),i>s+t&&(e.apply(n,r),s=i)}},defer(e,t=250,n=null){let i=null;return function(...s){clearTimeout(i),i=setTimeout(()=>{e.apply(n,s),i=null},t)}},createTaskWorker(e){const t="function"==typeof e?e:e.process?e.process:void 0,n=new Worker(window.URL.createObjectURL(new Blob([`(function() { onmessage = ${t.toString()} })()`],{type:"application/javascript"})));return e.response&&(n.onmessage=e.response),e.onError&&(n.onerror=e.onError),{process:n.postMessage.bind(n),terminate:n.terminate.bind(n),set response(e){n.onmessage=e},get response(){return n.onmessage},set onError(e){n.onerror=e},get onError(){return n.onerror}}}},!0)})(window||this);